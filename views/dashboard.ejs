<%- include('_header'); -%>

<h1 class="title is-2">FASTER Web Helper</h1>

<div class="columns">
  <div class="column is-three-fifths">
    <h2 class="title">Available Modules</h2>
    <% let hasModules = false; %>

    <% if (configHelpers.getConfigProperty('modules.inventoryScanner.isEnabled') && (user.settings['inventoryScanner_hasAccess'] ?? 'false') === 'true') { %>
      <% hasModules = true; %>
      <a class="box" href="<%= urlPrefix %>/modules/inventoryScanner">
        <div class="columns">
          <div class="column is-narrow">
            <i class="fa-solid fa-barcode fa-6x" aria-hidden="true"></i>
          </div>
          <div class="column">
            <h3 class="title is-4 mb-0">Inventory Scanner</h3>
            <p>
              Manage scanned inventory transactions.
              Sync scanned transactions with FASTER Web and other systems.
            </p>
          </div>
        </div>
      </a>
    <% } %>

    <% if (configHelpers.getConfigProperty('modules.integrityChecker.isEnabled') && (user.settings['integrityChecker_hasAccess'] ?? 'false') === 'true') { %>
      <% hasModules = true; %>
      <div class="box">
        <div class="columns">
          <div class="column is-narrow">
            <i class="fa-solid fa-shapes fa-6x" aria-hidden="true"></i>
          </div>
          <div class="column">
            <h3 class="title is-4 mb-0">Integrity Checker</h3>
            <p>
              Ensure the integrity of your data.
            </p>

            <div class="menu">
              <ul class="menu-list">
                <% if (configHelpers.getConfigProperty('modules.integrityChecker.fasterAssets.isEnabled')) { %>
                  <li>
                    <a href="<%= urlPrefix %>/modules/integrityChecker/assetsFaster">
                      <span class="icon"><i class="fa-solid fa-play" aria-hidden="true"></i></span>
                      <span>
                        FASTER Web
                    </a>
                  </li>
                <% } %>
                <% if (configHelpers.getConfigProperty('modules.integrityChecker.worktechEquipment.isEnabled')) { %>
                  <li>
                    <a href="<%= urlPrefix %>/modules/integrityChecker/assetsWorktech">
                      <span class="icon"><i class="fa-solid fa-play" aria-hidden="true"></i></span>
                      <span>
                        FASTER Web
                        <i class="fa-solid fa-left-right" aria-hidden="true"></i>
                        WorkTech
                      </span>
                    </a>
                  </li>
                <% } %>
              </ul>
            </div>
          </div>
        </div>
      </div>
    <% } %>

    <% if (!hasModules) { %>
      <div class="message is-warning">
        <p class="message-body">
          <strong>No modules are available.</strong><br />
          If you expect to see modules here, please contact your system administrator.
        </p>
      </div>
    <% } %>
  </div>
  <div class="column">
    <h2 class="title">More Links</h2>

    <% if (fasterUrlBuilder !== undefined) { %>
      <a class="box" href="<%= fasterUrlBuilder.baseUrl %>" target="_blank">
        <div class="columns">
          <div class="column is-narrow">
            <i class="fa-solid fa-fw fa-link fa-3x" aria-hidden="true"></i>
          </div>
          <div class="column">
            <h2 class="title is-4 mb-0">FASTER Web</h2>
            <p>The full FASTER Web application.</p>
          </div>
        </div>
      </a>
    <% } %>

    <a class="box" href="https://github.com/cityssm/faster-web-helper" target="_blank">
      <div class="columns">
        <div class="column is-narrow">
          <i class="fa-brands fa-fw fa-github fa-3x" aria-hidden="true"></i>
        </div>
        <div class="column">
          <h2 class="title is-4 mb-0">FASTER Web Helper Project Page</h2>
          <p>Latest updates. Issue tracker.</p>
        </div>
      </div>
    </a>
  </div>
</div>

<%- include('_footerA'); -%>
<%- include('_footerB'); -%>